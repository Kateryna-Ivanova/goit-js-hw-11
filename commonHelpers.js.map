{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst textInput = document.querySelector('.text-input')\nconst loader = document.querySelector('.loader');\n\n// Використання галереї SimpleLightbox(Зображення відкриваються як модальне вікно)\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    overlayOpacity: 0.5,\n});\n\n// Використання iziToast (Вспливаюче повідомлення)\nfunction showMessage() {\n    iziToast.error({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: '#FAFAFB',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n    close: false,\n    closeOnClick: true,\n    });\n    \n}\n\nform.addEventListener('submit', fetchImages);\n\nfunction fetchImages(event) {\n    // прибираємо дію за замовченням\n    event.preventDefault();\n    // відміняємо приховування loader\n    loader.style.display = 'block';\n    // Створення параметрів пошуку Pixabay\n    const searchParams = new URLSearchParams({\n        key: '41488002-513c6a9a4c115eae6a99045d3',\n        q: textInput.value ,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    // Отримання даних з Pixabay за параметрами\n    fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then((response) => {\n            loader.style.display = 'none';\n            if (!response.ok) { throw new Error(response.status); }\n            return response.json();\n        })\n        .then((data) => {\n            // (Якщо data.hits.length дорівнює 0, це означає, що у відповіді немає зображень)\n            if (data.hits.length === 0) {\n                return showMessage();\n            }\n            const renderImg = data.hits.reduce((html, image) => {\n                return html + imageCard(image);\n            }, '');\n            gallery.innerHTML = renderImg;\n            // оновлюємо вміст\n            lightbox.refresh();\n        })\n        .catch((error) => {\n            showAlert(error.toString());\n        });\n}\nfunction imageCard(images) {\n    return `<li>\n    <a href=\"${images.largeImageURL}\">\n        <img src=\"${images.webformatURL}\" alt=\"${images.tags}\">\n    </a>\n    <div class=\"info\">\n        <div class=\"image-info\">\n            <span>Likes</span>\n            <span class=\"image-value\">${images.likes}</span>\n        </div>\n        <div class=\"image-info\">\n            <span>Views</span>\n            <span class=\"image-value\">${images.views}</span>\n        </div>\n        <div class=\"image-info\">\n            <span>Comments</span>\n            <span class=\"image-value\">${images.comments}</span>\n        </div>\n        <div class=\"image-info\">\n            <span>Downloads</span>\n            <span class=\"image-value\">${images.downloads}</span>\n        </div>\n    </div>\n    </li>`;\n};"],"names":["form","gallery","textInput","loader","lightbox","SimpleLightbox","showMessage","iziToast","fetchImages","event","searchParams","response","data","renderImg","html","image","imageCard","error","images"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,eAAgB,EACpB,CAAC,EAGD,SAASC,GAAc,CACnBC,EAAS,MAAM,CACf,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,MAAO,GACP,aAAc,EAClB,CAAK,CAEL,CAEAP,EAAK,iBAAiB,SAAUQ,CAAW,EAE3C,SAASA,EAAYC,EAAO,CAExBA,EAAM,eAAc,EAEpBN,EAAO,MAAM,QAAU,QAEvB,MAAMO,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGR,EAAU,MACb,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,MAAM,4BAA4BQ,GAAc,EAC3C,KAAMC,GAAa,CAEhB,GADAR,EAAO,MAAM,QAAU,OACnB,CAACQ,EAAS,GAAM,MAAM,IAAI,MAAMA,EAAS,MAAM,EACnD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAMC,GAAS,CAEZ,GAAIA,EAAK,KAAK,SAAW,EACrB,OAAON,EAAW,EAEtB,MAAMO,EAAYD,EAAK,KAAK,OAAO,CAACE,EAAMC,IAC/BD,EAAOE,EAAUD,CAAK,EAC9B,EAAE,EACLd,EAAQ,UAAYY,EAEpBT,EAAS,QAAO,CAC5B,CAAS,EACA,MAAOa,GAAU,CACd,UAAUA,EAAM,SAAQ,CAAE,CACtC,CAAS,CACT,CACA,SAASD,EAAUE,EAAQ,CACvB,MAAO;AAAA,eACIA,EAAO;AAAA,oBACFA,EAAO,sBAAsBA,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKhBA,EAAO;AAAA;AAAA;AAAA;AAAA,wCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,wCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,wCAIPA,EAAO;AAAA;AAAA;AAAA,UAI/C"}